# 11. 인증된 사용자에 대한 접근 제한하기

> 개요

- is_authenticated 와 View decorator를 활용하여 코드 정리하기



> 댓글 작성

```python
# view.py

@require_POST
def comments_create(request, pk):
    if request.user.is_authenticated:
        ....
        
        
        
        
    return redirect('accounts:login')
```



> 댓글 삭제

```python
# views.py

def comments_delete(request, article_pk, comment_pk):
    if request.user.is_authenticated:
        comment = Comment.objects.get(pk=comment_pk)
        if request.user == comment.user:
            # article_pk = comment.article.pk
            comment.delete()
    return redirect('articles:detail', article_pk)
```

