# 비밀번호 변경

 

> PasswordChangeForm

- 사용자가 비밀번호를 변경할 수 있도록 하는 Form
- 이전 비밀번호를 입력하여 비밀번호를 변경할 수 있도록 함
- 이전 비밀번호를 입력하지 않고 비밀번호를 설정할 수 있는 SetPasswordForm을 상속받은 서브 클래스



>  urls.py

`path('password/', views.change_password, name='change_password'),`



> 암호 변경 시 세션 무효화 방지하기

- 비밀번호가 변경되면 기존 세션과의 회원 인증 정보가 일치하지 않게 되어 버려 로그인 상태가 유지되지 못함
- 비밀번호는 잘 변경되었으나 비밀번호가 변경 되면서 기존 세션과의 회원 인증 정보가 일치하지 않기 때문



> update_session_auth_hash()

- update_session_auth_hash(request, user)
- 현재 요청과 새 session data가 파생될 업데이트된 사용자 객체를 가져오고, session data를 적절하게 업데이트 해준다.



